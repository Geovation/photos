# Architecture

## Storage

When uploading a new photo, it will get an ID autogenerated. It will be used to store metadata in [Cloud Firestore](https://firebase.google.com/docs/firestore/) and the photos in [Cloud Storage](https://firebase.google.com/docs/storage/).

### Cloud Firestore

Used to metadata that will be indexed such as location.
TODO

### Cloud Storage

Each original photo will be stored in `/photos/{$ID}/original.jpg`. For each of them there will be different sizes also stored in the same folder but with different name. Example  `/photos/{$ID}/40x40.jpg`. While fetching the photo, if the right size is not present, it will be generated in real time and saved it.

### Pull from Original

The original source code is [Geovation/photos](https://github.com/Geovation/photos). Notes on how to [pull from original](http://bassistance.de/2010/06/25/git-fu-updating-your-github-fork/) repo.
