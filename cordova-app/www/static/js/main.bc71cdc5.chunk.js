(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/map.cd586af5.svg"},109:function(e,t,a){e.exports=a(262)},122:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/left-arrow.6468634d.svg"},262:function(e,t,a){"use strict";a.r(t);var n=a(93);a.n(n).a.initializeApp({apiKey:"AIzaSyBkuZPVStg_zRfUaxLJ-mP4xxdFv8GzdZw",authDomain:"photos-demo-d4b14.firebaseapp.com",databaseURL:"https://photos-demo-d4b14.firebaseio.com",projectId:"photos-demo-d4b14",storageBucket:"photos-demo-d4b14.appspot.com",messagingSenderId:"639308065605"});var o=a(0),i=a.n(o),l=a(20),r=a.n(l),c=(a(122),a(14)),s=a(15),p=a(17),u=a(16),d=a(18),g=a(10),h=a.n(g),m=a(21),f=a.n(m),y=a(94),b=a.n(y),v=function(e,t){var a;a=Math.random()<.5?"Photo was uploaded successfully":"Failed to upload. Please try again!",setTimeout(function(){return e.openDialog(a)},1e3)},E="#333",x="#faa728",k=function(){return i.a.createElement("div",{style:P.headline},i.a.createElement("div",{style:P.headtext},"GEOVATION"),i.a.createElement("img",{style:P.headphoto,src:b.a,alt:"header"}))},P={headline:{display:"flex",flexDirection:"column",height:120,justifyContent:"center",alignItems:"center"},headtext:{color:"white",fontFamily:"OSGillSans ,sans-serif !important"},headphoto:{height:80}},C={wrapper:{display:"flex",flex:1,flexDirection:"column",height:"100vh",backgroundColor:E},headline:{display:"flex",height:50,backgroundColor:x,alignItems:"center"},buttonback:{height:25},headtext:{display:"flex"}},w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:C.wrapper},i.a.createElement("div",{style:C.headline},i.a.createElement(h.a,{onClick:this.closePage},i.a.createElement("img",{style:C.buttonback,src:f.a,alt:""})),i.a.createElement("div",{style:C.headtext},"Page 1")))}}]),t}(o.Component),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:C.wrapper},i.a.createElement("div",{style:C.headline},i.a.createElement(h.a,{onClick:this.closePage},i.a.createElement("img",{style:C.buttonback,src:f.a,alt:""})),i.a.createElement("div",{style:C.headtext},"Page 2")))}}]),t}(o.Component),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:C.wrapper},i.a.createElement("div",{style:C.headline},i.a.createElement(h.a,{onClick:this.closePage},i.a.createElement("img",{style:C.buttonback,src:f.a,alt:""})),i.a.createElement("div",{style:C.headtext},"Page 3")))}}]),t}(o.Component),S=a(31),D=a(96),I=a.n(D),M=a(32),A=a.n(M),T=a(60),L=a.n(T),R=a(58),F=a.n(R),B=a(59),z=a.n(B),W=a(97),N=a.n(W),G={wrapper:{display:"flex",height:"100vh",flexDirection:"column",backgroundColor:E},headline:{display:"flex",flexDirection:"column",height:120,justifyContent:"center",alignItems:"center"},headtext:{display:"flex",color:"white",fontFamily:"OSGillSans ,sans-serif !important"},headphoto:{display:"flex",height:80},body:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:x},progress:{color:E}},H=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:G.wrapper},i.a.createElement(k,null),i.a.createElement("div",{style:G.body},i.a.createElement(N.a,{style:G.progress,size:50,thickness:6})))}}]),t}(i.a.Component),U={wrapper:{display:"flex",flex:1,flexDirection:"column",height:"100vh",backgroundColor:E},headline:{display:"flex",height:50,backgroundColor:x,alignItems:"center"},buttonback:{height:25},entertext:{display:"flex",height:30,paddingLeft:5,color:x,alignItems:"center"},inputtext:{marginLeft:"5px",border:"1px solid black"},picture:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:E},buttonwrapper:{display:"flex",height:50,backgroundColor:E,alignItems:"center",justifyContent:"center"},sendbutton:{color:E,backgroundColor:x}},J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.target.value})},a.openDialog=function(e){a.setState({sending:!1,open:!0,message:e})},a.closeDialog=function(){a.setState({open:!1}),"Failed to upload. Please try again!"===a.state.message?a.loadImage():a.closePage()},a.openDialogText=function(){a.setState({opendialogtext:!0})},a.closeDialogText=function(){a.setState({opendialogtext:!1})},a.sendFile=function(){var e={},t=a.state.value,n=a.props,o=n.file,i=n.location;e.file=o,""!==t?(e.text=t,i&&(e.latitude=i.latitude,e.longitude=i.longitude),a.setState({sending:!0}),v(Object(S.a)(Object(S.a)(a)),e)):a.openDialogText()},a.closePage=function(){a.props.closePage()},a.loadImage=function(){I()(a.props.file,function(e){document.getElementById("picture").appendChild(e);var t=document.getElementsByTagName("canvas")[0];t.width<t.height?(t.style.width="auto",t.style.maxHeight="100%"):(t.style.height="auto",t.style.maxWidth="100%")},{orientation:!0})},a.state={imgSrc:"",open:!1,opendialogtext:!1,message:"",value:"",sending:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadImage()}},{key:"render",value:function(){return this.state.sending?i.a.createElement(H,null):i.a.createElement("div",{style:U.wrapper},i.a.createElement("div",{style:U.headline},i.a.createElement(h.a,{onClick:this.closePage},i.a.createElement("img",{style:U.buttonback,src:f.a,alt:""})),i.a.createElement("div",null,"PhotoPage")),i.a.createElement("div",{style:U.entertext},"Enter some text:",i.a.createElement("input",{type:"text",style:U.inputtext,value:this.state.value,onChange:this.handleChange})),i.a.createElement("div",{style:U.picture,id:"picture"}),i.a.createElement("div",{style:U.buttonwrapper},i.a.createElement(h.a,{style:U.sendbutton,onClick:this.sendFile},"Send Photo")),i.a.createElement(A.a,{open:this.state.open,onClose:this.closeDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(F.a,null,i.a.createElement(z.a,{id:"alert-dialog-description"},this.state.message)),i.a.createElement(L.a,null,i.a.createElement(h.a,{onClick:this.closeDialog,color:"primary"},"Ok"))),i.a.createElement(A.a,{open:this.state.opendialogtext,onClose:this.closeDialogText,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(F.a,null,i.a.createElement(z.a,{id:"alert-dialog-description"},"Please enter some text")),i.a.createElement(L.a,null,i.a.createElement(h.a,{onClick:this.closeDialogText,color:"primary"},"Ok"))))}}]),t}(o.Component),V=a(98),Y=a.n(V),Z=a(99),_=a.n(Z),q=a(100),K=a.n(q),Q=a(107),$=a.n(Q),X=a(106),ee=a.n(X),te=a(56),ae=a.n(te),ne=a(105),oe=a.n(ne),ie=a(45),le=a.n(ie),re=a(108),ce=a.n(re),se={wrapper:{display:"flex",flex:1,flexDirection:"column",height:"100vh",backgroundColor:E},buttonappbar:{height:25},body:{display:"flex",flex:1,flexDirection:"column",backgroundColor:x},camera:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"},inputcamera:{height:50,width:"50px",cursor:"pointer",opacity:0,position:"absolute"},imagecamera:{height:50,cursor:"pointer"},map:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"},imagemap:{height:50,cursor:"pointer"},externallink:{display:"flex",height:50,justifyContent:"center",alignItems:"center",backgroundColor:E},buttonexternallink:{color:x,textTransform:"none"},appbar:{display:"flex",height:50,justifyContent:"flex-start",backgroundColor:x}},pe=a(104),ue=a(43),de=a.n(ue),ge=a(57),he=a.n(ge),me=a(33),fe=a.n(me),ye=a(42),be=a.n(ye),ve=a(44),Ee=a.n(ve),xe=a(101),ke=a.n(xe),Pe=a(102),Ce=a.n(Pe),we=a(103),Oe=a.n(we),je=a(61),Se=a.n(je),De={avatar:{backgroundColor:Se.a[100],color:Se.a[600]}},Ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){a.props.onClose()},a.handleListItemClick=function(e){a.props.onClose(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.open;return i.a.createElement(A.a,{onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",open:n},i.a.createElement("div",null,i.a.createElement(he.a,null,i.a.createElement(fe.a,{button:!0,onClick:function(){return e.handleListItemClick("CAMERA")}},i.a.createElement(be.a,null,i.a.createElement(de.a,{className:a.avatar},i.a.createElement(ke.a,null))),i.a.createElement(Ee.a,{primary:"Camera"})),i.a.createElement(fe.a,{button:!0,onClick:function(){return e.handleListItemClick("PHOTOLIBRARY")}},i.a.createElement(be.a,null,i.a.createElement(de.a,{className:a.avatar},i.a.createElement(Ce.a,null))),i.a.createElement(Ee.a,{primary:"Photo Library"})),i.a.createElement(fe.a,{button:!0,onClick:this.handleClose},i.a.createElement(be.a,null,i.a.createElement(de.a,null,i.a.createElement(Oe.a,null))),i.a.createElement(Ee.a,{primary:"Cancel"})))))}}]),t}(i.a.Component),Me=Object(pe.withStyles)(De)(Ie),Ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).openFile=function(e){e.target.files[0]&&a.props.openPhotoPage(e.target.files[0])},a.openMenu=function(){a.setState(function(e){return{open:!e.open}})},a.closeMenu=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a.openPage1=function(){a.setState({open:!1}),a.props.openPage1()},a.openPage2=function(){a.setState({open:!1}),a.props.openPage2()},a.openPage3=function(){a.setState({open:!1}),a.props.openPage3()},a.openMap=function(){a.props.openMap()},a.openCamera=function(){window.cordova&&a.setState({photoDialog:!0})},a.handleClose=function(e){if(a.setState({photoDialog:!1}),e){var t=navigator.camera,n="CAMERA"===e?t.PictureSourceType.CAMERA:t.PictureSourceType.PHOTOLIBRARY;t.getPicture(function(e){a.props.openPhotoPage(e)},function(e){console.log("Failed because: ",e)},{quality:50,destinationType:t.DestinationType.FILE_URI,sourceType:n,correctOrientation:!0})}},a.setRedirect=function(){window.location="https://geovation.uk/"},a.state={menuOpen:!1,open:!1,photoDialog:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("file-input");t&&t.addEventListener("change",function(t){return e.openFile(t)})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:se.wrapper},i.a.createElement(k,null),i.a.createElement("div",{style:se.appbar},i.a.createElement(h.a,{onClick:this.openMenu,style:this.buttonappbar,buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"menu-list-grow":null,"aria-haspopup":"true"},i.a.createElement("img",{src:Y.a,alt:""}))),i.a.createElement(oe.a,{open:this.state.open,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var a=t.TransitionProps,n=t.placement;return i.a.createElement(ee.a,Object.assign({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),i.a.createElement(ae.a,null,i.a.createElement($.a,{onClickAway:e.closeMenu},i.a.createElement(ce.a,null,i.a.createElement(le.a,{onClick:e.openPage1},"Page 1"),i.a.createElement(le.a,{onClick:e.openPage2},"Page 2"),i.a.createElement(le.a,{onClick:e.openPage3},"Page 3")))))}),i.a.createElement("div",{style:se.body},i.a.createElement("div",{style:se.camera},i.a.createElement(h.a,{onClick:this.openCamera},window.cordova?null:i.a.createElement("input",{id:"file-input",style:se.inputcamera,type:"file",accept:"image/*"}),i.a.createElement("img",{style:se.imagecamera,src:_.a,alt:""})),i.a.createElement(Me,{open:this.state.photoDialog,onClose:this.handleClose})),i.a.createElement("div",{style:se.map},i.a.createElement(h.a,{onClick:this.openMap},i.a.createElement("img",{style:se.imagemap,src:K.a,alt:""})))),i.a.createElement("div",{style:se.externallink},i.a.createElement(h.a,{onClick:this.setRedirect,style:se.buttonexternallink},"External Link")))}}]),t}(o.Component),Te=a(62),Le=a.n(Te),Re=(a(260),{wrapper:{display:"flex",flexDirection:"column"},headline:{display:"flex",height:50,backgroundColor:x,alignItems:"center"},buttonwrapper:{display:"flex",flex:1},buttonback:{height:25},headtext:{display:"flex",flex:1,justifyContent:"center"},headspace:{display:"flex",flex:1},map:{width:"100%",height:"calc(100vh - 50px)"}}),Fe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){Le.a.accessToken="",new Le.a.Map({container:"map",style:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/styles/open-zoomstack-outdoor/style.json",center:[-.1019313,51.524311],zoom:17,customAttribution:"Contains OS data &copy; Crown copyright and database rights 2018"})}},{key:"render",value:function(){return i.a.createElement("div",{style:Re.wrapper},i.a.createElement("div",{style:Re.headline},i.a.createElement("div",{style:Re.buttonwrapper},i.a.createElement(h.a,{onClick:this.closePage},i.a.createElement("img",{style:Re.buttonback,src:f.a,alt:""}))),i.a.createElement("div",{style:Re.headtext},"Map"),i.a.createElement("div",{style:Re.headspace})),i.a.createElement("div",{id:"map",style:Re.map}))}}]),t}(o.Component),Be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).openPage1=function(){a.setState({page1:!0})},a.closePage1=function(){a.setState({page1:!1})},a.openPage2=function(){a.setState({page2:!0})},a.closePage2=function(){a.setState({page2:!1})},a.openPage3=function(){a.setState({page3:!0})},a.closePage3=function(){a.setState({page3:!1})},a.openPhotoPage=function(e){a.setState({photopage:!0,file:e})},a.closePhotoPage=function(){a.setState({photopage:!1})},a.openMap=function(){a.setState({map:!0})},a.closeMap=function(){a.setState({map:!1})},a.state={page1:!1,page2:!1,page3:!1,photopage:!1,file:null,map:!1,loading:!0,location:{}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getLocation",value:function(){var e=this;if(navigator&&navigator.geolocation)var t=navigator.geolocation.watchPosition(function(a){var n={latitude:a.coords.latitude,longitude:a.coords.longitude};navigator.geolocation.clearWatch(t),e.setState({loading:!1,location:n})},function(t){console.log("Error: ",t.message),e.setState({loading:!1})},{enableHighAccuracy:!1,timeout:3e3})}},{key:"componentDidMount",value:function(){this.getLocation()}},{key:"render",value:function(){return this.state.loading?i.a.createElement(H,null):this.state.page1?i.a.createElement(w,{closePage:this.closePage1}):this.state.page2?i.a.createElement(O,{closePage:this.closePage2}):this.state.page3?i.a.createElement(j,{closePage:this.closePage3}):this.state.photopage?i.a.createElement(J,{location:this.state.location,file:this.state.file,closePage:this.closePhotoPage}):this.state.map?i.a.createElement(Fe,{closePage:this.closeMap}):i.a.createElement(Ae,{openMenu:this.openMenu,closeMenu:this.closeMenu,openPage1:this.openPage1,openPage2:this.openPage2,openPage3:this.openPage3,openPhotoPage:this.openPhotoPage,openMap:this.openMap})}}]),t}(o.Component),ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ze?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ne(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ne(e)})}}function Ne(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ge=function(){r.a.render(i.a.createElement(Be,null),document.getElementById("root")),We()};window.cordova?document.addEventListener("deviceready",Ge,!1):Ge()},94:function(e,t,a){e.exports=a.p+"static/media/logo.2435d258.svg"},98:function(e,t,a){e.exports=a.p+"static/media/menu.86595150.svg"},99:function(e,t,a){e.exports=a.p+"static/media/camera.53853ae5.svg"}},[[109,2,1]]]);
//# sourceMappingURL=main.bc71cdc5.chunk.js.map